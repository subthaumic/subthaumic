<div class="card-item col">
  {%- if talk.redirect -%}
  <a href="{{ talk.redirect }}">
  {%- elsif talk.details -%}
  <a href="{{ talk.url | relative_url }}">
  {%- endif -%}
    <div class="card hoverable">
      <div class="row g-0">
        {%- if talk.img -%}
        <div class="card-img col-md-6">
            {% include figure.html path=talk.img sizes="(min-width: 768px) 156px, 50vw" alt="talk thumbnail" %}
        </div>
        <div class="col-md-6">
        {%- else -%}
        <div class="col-md-12">
        {%- endif -%}
          <div class="card-body">
            <!-- Title -->
            <h4 class="card-title">{{ talk.title }}</h4>

            <!-- Venue and Date -->
            <p class="card-text">
              <strong>{{ talk.venue }}</strong> <br>
              <i>{{ talk.date | date: "%B %d, %Y" }}</i>
            </p>

            <!-- Optional link to slides -->
            {%- if talk.slides -%}
              <p class="card-text"><a href="{{ talk.slides }}">Slides</a></p>
            {%- endif -%}

            <!-- Optional abstract with expand/collapse -->
            {%- if talk.abstract -%}
              <div class="abstract">
                <a href="#" class="expand-link" onclick="toggleAbstract('abstract-{{ forloop.index }}'); return false;">
                  Abstract
                </a>
                <p id="abstract-{{ forloop.index }}" class="card-text abstract-text" style="display:none;">
                  {{ talk.abstract }}
                </p>
              </div>
            {%- endif -%}

          </div>
        </div>
      </div>
    </div>
  {%- if talk.redirect or talk.details -%}
  </a>
  {%- endif -%}
</div>

<script>
  function toggleAbstract(abstractId) {
    var abstract = document.getElementById(abstractId);
    if (abstract.style.display === "none") {
      abstract.style.display = "block";
    } else {
      abstract.style.display = "none";
    }
  }
</script>
